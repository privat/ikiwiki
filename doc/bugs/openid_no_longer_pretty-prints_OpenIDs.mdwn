The git commit (in my `openid` branch) says it all:

    Update IkiWiki::openiduser to work with Net::OpenID 2.x
    
    openiduser previously used a constructor that no longer works in 2.x.
    However, all we actually want is the (undocumented) DisplayOfURL function
    that is invoked by the display method, so try to use that.

This bug affects ikiwiki.info (my commits show up in [[RecentChanges]] as http://smcv.pseudorandom.co.uk/ rather than smcv [pseudorandom.co.uk]).

> Cherry picked, thanks. --[[Joey]] 

Relatedly, the other commit on the same branch would be nice to have:

    Allow the openid plugin to be loaded but disabled, for its side-effect of defining IkiWiki::openiduser
    
    On various sites I have two IkiWiki instances running from the same
    repository: one accessible via http and only accepting openid logins,
    and one accessible via authenticated https and only accepting httpauth.
    Ideally, the https version should still pretty-print OpenIDs seen in
    git history.

--[[smcv]]

> I wonder if an option is the best approach. Maybe it would be better to
> simply move `openiduser` into `userlink`, and thus always support openid
> usernames whether the plugin is enabled or not. --[[Joey]] 

[[!tag patch]]
